I"h<h1 id="batteryarc-widget">Batteryarc widget</h1>

<p><a href="https://github.com/streetturtle/awesome-wm-widgets/labels/batteryarc"><img src="https://img.shields.io/github/issues-raw/streetturtle/awesome-wm-widgets/batteryarc" alt="GitHub issues by-label" /></a></p>

<p>This widget is more informative version of <a href="https://github.com/streetturtle/awesome-wm-widgets/tree/master/battery-widget">battery widget</a>.</p>

<p>Depending of the battery status it could look following ways:</p>

<ul>
  <li><img src="../awesome-wm-widgets/assets/img/widgets/screenshots/batteryarc-widget/10_d.png" alt="10_d" /> - less than 15 percent</li>
  <li><img src="../awesome-wm-widgets/assets/img/widgets/screenshots/batteryarc-widget/10_c.png" alt="10_c" /> - less than 15 percent, charging</li>
  <li><img src="../awesome-wm-widgets/assets/img/widgets/screenshots/batteryarc-widget/20_d.png" alt="20_d" /> - between 15 and 40 percent</li>
  <li><img src="../awesome-wm-widgets/assets/img/widgets/screenshots/batteryarc-widget/20_c.png" alt="20_c" /> - between 15 and 40 percent, charging</li>
  <li><img src="../awesome-wm-widgets/assets/img/widgets/screenshots/batteryarc-widget/80_d.png" alt="80_d" /> - more than 40 percent</li>
  <li><img src="../awesome-wm-widgets/assets/img/widgets/screenshots/batteryarc-widget/80_c.png" alt="80_c" /> - more than 40 percent, charging</li>
</ul>

<p>If a battery level is low then warning popup will show up:</p>

<p><img src="../awesome-wm-widgets/assets/img/widgets/screenshots/batteryarc-widget/warning.png" alt="warning" /></p>

<h2 id="customization">Customization</h2>

<p>It is possible to customize widget by providing a table with all or some of the following config parameters:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">font</code></td>
      <td>Play 6</td>
      <td>Font</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">arc_thickness</code></td>
      <td>2</td>
      <td>Thickness of the arc</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">show_current_level</code></td>
      <td>false</td>
      <td>Show current charge level</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">size</code></td>
      <td>18</td>
      <td>Size of the widget</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">timeout</code></td>
      <td>10</td>
      <td>How often in seconds the widget refreshes</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">main_color</code></td>
      <td><code class="language-plaintext highlighter-rouge">beautiful.fg_color</code></td>
      <td>Color of the text with the current charge level and the arc</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bg_color</code></td>
      <td><code class="language-plaintext highlighter-rouge">#ffffff11</code></td>
      <td>Color of the charge level background</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">low_level_color</code></td>
      <td><code class="language-plaintext highlighter-rouge">#e53935</code></td>
      <td>Arc color when battery charge is less that 15%</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">medium_level_color</code></td>
      <td><code class="language-plaintext highlighter-rouge">#c0ca33</code></td>
      <td>Arc color when battery charge is between 15% and 40%</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">charging_color</code></td>
      <td><code class="language-plaintext highlighter-rouge">#43a047</code></td>
      <td>Color of the circle inside the arc when charging</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">warning_msg_title</code></td>
      <td><em>Huston, we have a problem</em></td>
      <td>Title of the warning popup</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">warning_msg_text</code></td>
      <td><em>Battery is dying</em></td>
      <td>Text of the warning popup</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">warning_msg_position</code></td>
      <td><code class="language-plaintext highlighter-rouge">bottom_right</code></td>
      <td>Position of the warning popup</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">warning_msg_icon</code></td>
      <td>~/.config/awesome/awesome-wm-widgets/batteryarc-widget/spaceman.jpg</td>
      <td>Icon of the warning popup</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">enable_battery_warning</code></td>
      <td><code class="language-plaintext highlighter-rouge">true</code></td>
      <td>Display low battery warning</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">show_notification_mode</code></td>
      <td><code class="language-plaintext highlighter-rouge">on_hover</code></td>
      <td>How to trigger a notification with the battery status: <code class="language-plaintext highlighter-rouge">on_hover</code>, <code class="language-plaintext highlighter-rouge">on_click</code> or <code class="language-plaintext highlighter-rouge">off</code></td>
    </tr>
  </tbody>
</table>

<h2 id="requirements">Requirements</h2>

<p>This widget requires the <code class="language-plaintext highlighter-rouge">acpi</code> command to be available to retrieve battery and
power information.</p>

<h2 id="installation">Installation</h2>

<p>Clone repo, include widget and use it in <strong>rc.lua</strong>:</p>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">batteryarc_widget</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">"awesome-wm-widgets.batteryarc-widget.batteryarc"</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">s</span><span class="p">.</span><span class="n">mytasklist</span><span class="p">,</span> <span class="c1">-- Middle widget</span>
	<span class="p">{</span> <span class="c1">-- Right widgets</span>
    	<span class="n">layout</span> <span class="o">=</span> <span class="n">wibox</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">fixed</span><span class="p">.</span><span class="n">horizontal</span><span class="p">,</span>
		<span class="o">...</span>
        <span class="cm">--[[default]]</span>
		<span class="n">batteryarc_widget</span><span class="p">(),</span>		
        <span class="cm">--[[or customized]]</span>
        <span class="n">batteryarc_widget</span><span class="p">({</span>
            <span class="n">show_current_level</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
            <span class="n">arc_thickness</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="p">}),</span>
	<span class="p">}</span>
	<span class="o">...</span>
</code></pre></div></div>

<h2 id="troubleshooting">Troubleshooting</h2>

<p>In case of any doubts or questions please raise an <a href="https://github.com/streetturtle/awesome-wm-widgets/issues/new">issue</a>.</p>
:ET