I"Å<h1 id="gitlab-widget">Gitlab widget</h1>

<p align="center">
  <a href="https://github.com/streetturtle/awesome-wm-widgets/labels/gitlab" target="_blank"><img alt="GitHub issues by-label" src="https://img.shields.io/github/issues/streetturtle/awesome-wm-widgets/gitlab" /></a>
</p>

<p>The widget shows the number of merge requests assigned to the user and when clicked shows additional information, such as</p>
<ul>
  <li>authorâ€™s name and avatar (opens user profile page when clicked);</li>
  <li>MR name (opens MR when clicked);</li>
  <li>source and target branches;</li>
  <li>when was created;</li>
  <li>number of comments;</li>
  <li>number of approvals.</li>
</ul>

<p><img src="../awesome-wm-widgets/assets/img/widgets/screenshots/gitlab-widget/screenshot.png" alt="screenshot" /></p>

<h2 id="customization">Customization</h2>

<p>It is possible to customize widget by providing a table with all or some of the following config parameters:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">icon</code></td>
      <td><code class="language-plaintext highlighter-rouge">./icons/gitlab-icon.svg</code></td>
      <td>Path to the icon</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">host</code></td>
      <td>Required</td>
      <td>e.g <em>https://gitlab.yourcompany.com</em></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">access_token</code></td>
      <td>Required</td>
      <td>e.g <em>h2v531iYASDz6McxYk4A</em></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">timeout</code></td>
      <td>60</td>
      <td>How often in seconds the widget should be refreshed</td>
    </tr>
  </tbody>
</table>

<p><em>Note:</em></p>
<ul>
  <li>to get the access token, go to <strong>User Settings</strong> -&gt; <strong>Access Tokens</strong> and generate a token with <strong>api</strong> scope</li>
</ul>

<h2 id="installation">Installation</h2>

<p>Clone/download repo and use widget in <strong>rc.lua</strong>:</p>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">gitlab_widget</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">"awesome-wm-widgets.gitlab-widget.gitlab"</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">s</span><span class="p">.</span><span class="n">mytasklist</span><span class="p">,</span> <span class="c1">-- Middle widget</span>
	<span class="p">{</span> <span class="c1">-- Right widgets</span>
    	<span class="n">layout</span> <span class="o">=</span> <span class="n">wibox</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">fixed</span><span class="p">.</span><span class="n">horizontal</span><span class="p">,</span>
		<span class="o">...</span>
		<span class="c1">-- default</span>
        <span class="n">gitlab_widget</span><span class="p">{</span>
            <span class="n">host</span> <span class="o">=</span> <span class="s1">'https://gitlab.yourcompany.com'</span><span class="p">,</span>
            <span class="n">access_token</span> <span class="o">=</span> <span class="s1">'h2v531iYASDz6McxYk4A'</span>
        <span class="p">},</span>
		<span class="o">...</span>
</code></pre></div></div>
:ET