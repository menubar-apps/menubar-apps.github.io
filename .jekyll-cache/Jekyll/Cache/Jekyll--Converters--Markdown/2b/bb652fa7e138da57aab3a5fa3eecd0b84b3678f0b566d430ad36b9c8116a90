I"¸
<h1 id="email-widget">Email widget</h1>

<p>This widget consists of an icon with counter which shows number of unread emails: <img src="../awesome-wm-widgets/assets/img/widgets/screenshots/email-widget/em-wid-1.png" alt="email icon" />
and a popup message which appears when mouse hovers over an icon: <img src="../awesome-wm-widgets/assets/img/widgets/screenshots/email-widget/em-wid-2.png" alt="email popup" /></p>

<p>Note that widget uses the Arc icon theme, so it should be <a href="https://github.com/horst3180/arc-icon-theme#installation">installed</a> first under <strong>/usr/share/icons/Arc/</strong> folder.</p>

<h2 id="installation">Installation</h2>

<p>To install it put <strong>email.lua</strong> and <strong>email-widget</strong> folder under <strong>~/.config/awesome</strong>. Then</p>

<ul>
  <li>in <strong>email.lua</strong> change path to python scripts;</li>
  <li>in python scripts add your credentials (note that password should be encrypted using pgp for example);</li>
  <li>add widget to awesome:</li>
</ul>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">email_widget</span><span class="p">,</span> <span class="n">email_icon</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">"email"</span><span class="p">)</span>

<span class="o">...</span>
<span class="n">s</span><span class="p">.</span><span class="n">mytasklist</span><span class="p">,</span> <span class="c1">-- Middle widget</span>
	<span class="p">{</span> <span class="c1">-- Right widgets</span>
    	<span class="n">layout</span> <span class="o">=</span> <span class="n">wibox</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">fixed</span><span class="p">.</span><span class="n">horizontal</span><span class="p">,</span>
		<span class="o">...</span>
		<span class="n">email_icon</span><span class="p">,</span>
        <span class="n">email_widget</span><span class="p">,</span>
		<span class="o">...</span>      
</code></pre></div></div>

<h2 id="how-it-works">How it works</h2>

<p>This widget uses the output of two python scripts, first is called every 20 seconds - it returns number of unread emails and second is called when mouse hovers over an icon and displays content of those emails. For both of them youâ€™ll need to provide your credentials and imap server. For testing, they can simply be called from console:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python ~/.config/awesome/email/count_unread_emails.py 
python ~/.config/awesome/email/read_emails.py 
</code></pre></div></div>
:ET