I"»"<h1 id="brightness-widget">Brightness widget</h1>

<p>This widget represents current brightness level, depending on config parameters could be an arcchart or icon with text: <img src="../awesome-wm-widgets/assets/img/widgets/screenshots/brightness-widget/br-wid-1.png" alt="Brightness widget" /></p>

<h2 id="customization">Customization</h2>

<p>It is possible to customize widget by providing a table with all or some of the following config parameters:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">type</code></td>
      <td><code class="language-plaintext highlighter-rouge">arc</code></td>
      <td>The widget type. Could be <code class="language-plaintext highlighter-rouge">arc</code> or <code class="language-plaintext highlighter-rouge">icon_and_text</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">program</code></td>
      <td><code class="language-plaintext highlighter-rouge">light</code></td>
      <td>The program used to control the brightness, either <code class="language-plaintext highlighter-rouge">light</code>, <code class="language-plaintext highlighter-rouge">xbacklight</code>, or <code class="language-plaintext highlighter-rouge">brightnessctl</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">step</code></td>
      <td>5</td>
      <td>Step</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">base</code></td>
      <td>20</td>
      <td>Base level to set brightness to on left click.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">path_to_icon</code></td>
      <td><code class="language-plaintext highlighter-rouge">/usr/share/icons/Arc/status/symbolic/display-brightness-symbolic.svg</code></td>
      <td>Path to the icon</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">font</code></td>
      <td><code class="language-plaintext highlighter-rouge">Play 9</code></td>
      <td>Font</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">timeout</code></td>
      <td>1</td>
      <td>How often in seconds the widget refreshes. Check the note below</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">tooltip</code></td>
      <td>false</td>
      <td>Display brightness level in a tooltip when the mouse cursor hovers the widget</td>
    </tr>
  </tbody>
</table>

<p><em>Note:</em> If brightness is controlled only by the widget (either by a mouse, or by a shortcut, then the <code class="language-plaintext highlighter-rouge">timeout</code> could be quite big, as there is no reason to synchronize the brightness level).</p>

<h2 id="installation">Installation</h2>

<p>To choose the right <code class="language-plaintext highlighter-rouge">program</code> argument, first you need to check which of them works better for you.</p>

<ul>
  <li>
    <p>using <code class="language-plaintext highlighter-rouge">xbacklight</code>:</p>

    <p>Install (on Ubuntu itâ€™s available in the apt repository) it and check if it works by running:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> xbacklight <span class="nt">-get</span>
</code></pre></div>    </div>

    <p>If there is no output it means that it doesnâ€™t work, you can either try to fix it, or try to use <code class="language-plaintext highlighter-rouge">light</code>.</p>
  </li>
  <li>
    <p>using <code class="language-plaintext highlighter-rouge">light</code> command:</p>

    <p>Install (on Ubuntu itâ€™s available in the apt repository) from the repo: <a href="https://github.com/haikarainen/light">github.com/haikarainen/light</a> and check if it works by running</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> light <span class="nt">-G</span>
 49.18
 light <span class="nt">-A</span> 5
</code></pre></div>    </div>
    <p>If youâ€™re on Ubuntu/debian and if the brightness level doesnâ€™t change, try to do this: https://github.com/haikarainen/light/issues/113#issuecomment-632638436.</p>
  </li>
  <li>
    <p>using <code class="language-plaintext highlighter-rouge">brightnessctl</code>:</p>

    <p>On Ubuntu it is available in the apt repository. Install and check the ouptut of the following command.</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brightnessctl <span class="nt">--list</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>Then clone this repo under <strong>~/.config/awesome/</strong>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/streetturtle/awesome-wm-widgets.git ~/.config/awesome/awesome-wm-widgets
</code></pre></div></div>

<p>Require widget at the beginning of <strong>rc.lua</strong>:</p>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">brightness_widget</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s2">"awesome-wm-widgets.brightness-widget.brightness"</span><span class="p">)</span>
</code></pre></div></div>

<p>Add the widget to the tasklist:</p>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span><span class="p">.</span><span class="n">mytasklist</span><span class="p">,</span> <span class="c1">-- Middle widget</span>
    <span class="p">{</span> <span class="c1">-- Right widgets</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">wibox</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">fixed</span><span class="p">.</span><span class="n">horizontal</span><span class="p">,</span>
        <span class="o">...</span>
        <span class="c1">-- default</span>
        <span class="n">brightness_widget</span><span class="p">(),</span>
        <span class="c1">-- or customized</span>
        <span class="n">brightness_widget</span><span class="p">{</span>
            <span class="nb">type</span> <span class="o">=</span> <span class="s1">'icon_and_text'</span><span class="p">,</span>
            <span class="n">program</span> <span class="o">=</span> <span class="s1">'xbacklight'</span><span class="p">,</span>
            <span class="n">step</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>        
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="o">...</span>
</code></pre></div></div>

<h2 id="controls">Controls</h2>

<p>In order to change brightness by shortcuts you can add them to the <code class="language-plaintext highlighter-rouge">globalkeys</code> table in the <strong>rc.lua</strong>:</p>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">awful</span><span class="p">.</span><span class="n">key</span><span class="p">({</span> <span class="n">modkey</span>         <span class="p">},</span> <span class="s2">";"</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="n">brightness_widget</span><span class="p">:</span><span class="n">inc</span><span class="p">()</span> <span class="k">end</span><span class="p">,</span> <span class="p">{</span><span class="n">description</span> <span class="o">=</span> <span class="s2">"increase brightness"</span><span class="p">,</span> <span class="n">group</span> <span class="o">=</span> <span class="s2">"custom"</span><span class="p">}),</span>
<span class="n">awful</span><span class="p">.</span><span class="n">key</span><span class="p">({</span> <span class="n">modkey</span><span class="p">,</span> <span class="s2">"Shift"</span><span class="p">},</span> <span class="s2">";"</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="n">brightness_widget</span><span class="p">:</span><span class="n">dec</span><span class="p">()</span> <span class="k">end</span><span class="p">,</span> <span class="p">{</span><span class="n">description</span> <span class="o">=</span> <span class="s2">"decrease brightness"</span><span class="p">,</span> <span class="n">group</span> <span class="o">=</span> <span class="s2">"custom"</span><span class="p">}),</span>
</code></pre></div></div>
<p>On a laptop you can use <code class="language-plaintext highlighter-rouge">XF86MonBrightnessUp</code> and <code class="language-plaintext highlighter-rouge">XF86MonBrightnessDown</code> keys.</p>
:ET